<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>定时任务管理系统</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"></script>

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>


    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>
<div id="app">
    <el-table
            :data="jobs"
            stripe
            style="width: 100%">
        <el-table-column
                prop="jobId"
                label="任务编号"
                width="180">
        </el-table-column>
        <el-table-column
                prop="jobName"
                label="任务名称"
                width="180">
        </el-table-column>
        <el-table-column
                prop="jobGroup"
                label="任务组名">
        </el-table-column>
        <el-table-column
                prop="invokeTarget"
                label="调用目标字符串">
        </el-table-column>
        <el-table-column
                prop="cronExpression"
                label="corn执行表达式">
            <template slot-scope="scope">
                <el-tag>{{scope.row.cronExpression}}</el-tag>
            </template>
        </el-table-column>
        <el-table-column
                prop="status"
                label="状态">
            <template slot-scope="scope">
                <el-switch
                    v-model="scope.row.status"
                    active-color="#13ce66">
                </el-switch>
            </template>
        </el-table-column>
        <el-table-column
                label="操作">
            <template slot-scope="scope">
                <el-button type="primary" icon="el-icon-edit" circle></el-button>
                <el-button type="danger" icon="el-icon-delete" circle></el-button>
            </template>
        </el-table-column>
    </el-table>
</div>

<script>
    new Vue({
        el:'#app',
        data:{
            jobs:[]
        },
        mounted(){
           this.initJobs()
        },
        methods:{
            initJobs(){
                axios.get('/quartz/selectJobAll').then(res => {
                    this.jobs = res.data;
                })
            }
        }
    })
</script>
</body>
</html>